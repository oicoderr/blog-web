exports.ids=[4],exports.modules={32:function(t,d,e){"use strict";d.a={methods:{footer(){$("#mailContent").height()<$(window).height()?this.$store.commit("changeFooterFixed",!0):this.$store.commit("changeFooterFixed",!1)}}}},33:function(t,d,e){"use strict";var o=e(30),r=e.n(o);r.a.interceptors.response.use(t=>t.data?t.data:{},function(t){return Promise.reject(t)});var c=r.a;e.d(d,"g",function(){return l}),e.d(d,"d",function(){return h}),e.d(d,"l",function(){return f}),e.d(d,"h",function(){return v}),e.d(d,"a",function(){return m}),e.d(d,"e",function(){return x}),e.d(d,"c",function(){return _}),e.d(d,"k",function(){return w}),e.d(d,"i",function(){return $}),e.d(d,"f",function(){return y}),e.d(d,"b",function(){return k}),e.d(d,"j",function(){return N});const n="http://stealfood.com/api/",l=(t={})=>c.get(`${n}article/get`,{params:t}),h=t=>c.post(`${n}article/like/${t}`),f=()=>c.get(`${n}tag/get`),v=t=>c.get(`${n}comment/get`,{params:t}),m=t=>c.put(`${n}comment/add`,{...t}),x=t=>c.post(`${n}comment/like/${t}`),_=t=>c.put(`${n}reply/add`,{...t}),w=t=>c.get(`${n}reply/get`,{params:t}),$=t=>c.get(`${n}hero/get`,{params:t}),y=t=>c.post(`${n}fans/create`,{...t}),k=t=>c.put(`${n}hero/add`,{...t}),N=t=>c.get(`${n}project/get`,{params:t})},35:function(t,d,e){"use strict";d.a={methods:{toZero:t=>t>9?t:`0${t}`,toTime(t,d){const e=new Date(t);return`${e.getFullYear()}${d}${this.toZero(e.getMonth()+1)}${d}${this.toZero(e.getDate())}`}}}},41:function(t,d,e){var content=e(62);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var o=e(4).default;t.exports.__inject__=function(t){o("b8753888",content,!0,t)}},42:function(t,d,e){var content=e(64);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var o=e(4).default;t.exports.__inject__=function(t){o("ebe72c3e",content,!0,t)}},61:function(t,d,e){"use strict";e.r(d);var o=e(41),r=e.n(o);for(var c in o)"default"!==c&&function(t){e.d(d,t,function(){return o[t]})}(c);d.default=r.a},62:function(t,d,e){(t.exports=e(3)(!1)).push([t.i,".sideIcon[data-v-141d286f]{position:fixed;width:42px;height:126px;background:hsla(0,0%,77%,.4);bottom:100px;left:50%;margin-left:500px}.sideIcon i[data-v-141d286f]{display:block;height:42px;text-align:center;line-height:42px;cursor:pointer;box-sizing:border-box;font-size:20px}.sideIcon i[data-v-141d286f]:first-of-type,.sideIcon i[data-v-141d286f]:nth-of-type(2){border-bottom:1px solid #f1f1f1}.sideIcon i[data-v-141d286f]:hover{background:#8ed53c;color:#fff}",""])},63:function(t,d,e){"use strict";e.r(d);var o=e(42),r=e.n(o);for(var c in o)"default"!==c&&function(t){e.d(d,t,function(){return o[t]})}(c);d.default=r.a},64:function(t,d,e){(t.exports=e(3)(!1)).push([t.i,'.main[data-v-a7dcd3d6]{clear:both;overflow:hidden}.article[data-v-a7dcd3d6]{width:620px;float:left;box-sizing:border-box;background:transparent}.item[data-v-a7dcd3d6]{padding:24px 18px;overflow:hidden;position:relative}.item[data-v-a7dcd3d6]:last-child:after{width:0}.item[data-v-a7dcd3d6]:after{content:"";display:block;position:absolute;height:1px;background-color:#f1f1f1;bottom:0;left:0;width:150px}.item .article-title[data-v-a7dcd3d6]{margin-bottom:15px;font-size:16px;display:block}.item .article-title h2[data-v-a7dcd3d6]{font-weight:400;font-size:20px;display:inline-block;position:relative}.item .article-title h2[data-v-a7dcd3d6]:after{content:"";display:block;position:absolute;height:1px;background-color:#555;bottom:0;left:0;width:100%;-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:scaleX(0);transform:scaleX(0);transition:.3s}.item .article-title:hover h2[data-v-a7dcd3d6]:after{-webkit-transform:scaleX(1);transform:scaleX(1)}.item .article-desc[data-v-a7dcd3d6]{line-height:24px;color:#777}.item .article-info[data-v-a7dcd3d6]{margin-top:20px;color:#8c8c8c;font-size:12px}.item .article-info i[data-v-a7dcd3d6],.item .article-info strong[data-v-a7dcd3d6]{font-size:12px}.side[data-v-a7dcd3d6]{float:right}.side[data-v-a7dcd3d6],.tagSide[data-v-a7dcd3d6]{width:250px;box-sizing:border-box;padding-top:24px}.tagSide[data-v-a7dcd3d6]{position:fixed;left:50%;margin-left:200px;top:24px}.hot-title[data-v-a7dcd3d6]{font-size:16px}.hot-article[data-v-a7dcd3d6],.tag-list[data-v-a7dcd3d6]{margin-top:10px;width:100%;box-sizing:border-box;padding-left:6px}.hot-article h3[data-v-a7dcd3d6]{font-weight:400;line-height:40px;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.tags[data-v-a7dcd3d6]{margin-top:24px}.tag-list a[data-v-a7dcd3d6]{display:inline-block;padding:10px}.loadmore[data-v-a7dcd3d6]{text-align:center;padding:12px 0;cursor:pointer;color:#ccc}.smallNav[data-v-a7dcd3d6]{margin-top:20px;width:100%;position:relative;color:#797979}.flag[data-v-a7dcd3d6]{width:35%;height:1px;background:#f1f1f1;margin-bottom:20px}.smallNav a[data-v-a7dcd3d6]{padding:0 5px;color:#797979}.fixedTag[data-v-a7dcd3d6]{position:fixed;width:250px;top:60px}',""])},76:function(t,d,e){"use strict";e.r(d);var o=e(33),r={data:()=>({scrollDom:null,scrollNum:0}),computed:{scrollTop(){return this.$store.state.scrollTop}},methods:{scroll(t){1===t?this.scrollNum+=400:this.scrollNum=0,$("html,body").animate({scrollTop:`${this.scrollNum}px`},300)},mail(){window.open("http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=uYGNgI_Mj4uAifnIyJfa1tQ","_blank")}},watch:{scrollTop(t){this.scrollNum=t}}},c=e(1);var n=Object(c.a)(r,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"sideIcon"},[this._ssrNode('<i title="聊骚聊骚..." class="iconfont" data-v-141d286f></i> <i title="向上..." class="iconfont" data-v-141d286f></i> <i title="向下..." class="iconfont" data-v-141d286f></i>')])},[],!1,function(t){var d=e(61);d.__inject__&&d.__inject__(t)},"141d286f","48cc529a").exports,l=e(32),h=e(35);let f=Object(o.l)(),v=Object(o.g)({top:!0}),m=Object(o.g)({current_page:1,publish:!0});var x={head:()=>({title:"Pydw | 文章"}),layout:"layout",mixins:[l.a,h.a],components:{ToTop:n},async asyncData({params:t}){const d=await f,e=await m,o=await v;return{tags:d,article:e.result.list,hotArticle:o.result.list}},data:()=>({showFixedTag:!1,sideHot:null,isLoadingData:!1,hasMore:!0,page:1}),computed:{scrollTop(){return this.$store.state.scrollTop}},methods:{loadMore(t={}){this.isLoadingData=!0,this.page+=1;let d={current_page:this.page,...t};Object(o.g)(d).then(d=>{this.isLoadingData=!1;const{result:e}=d;this.page>=e.pagination.total_page&&(this.hasMore=!1);let o=[];o=t.tag||t.keyword||t.isNew?e.list:this.article.concat(e.list),this.article=o,this.$nextTick(()=>{this.footer()})}).catch(t=>{this.isLoadingData=!1})},goDetail(t,data){const d=data.filter(d=>d.id==t);this.$store.commit("selectArticle",d[0]),this.$router.push("/article/"+t)}},mounted(){this.$nextTick(()=>{this.sideHot=document.querySelector("#sideHot"),this.mailContentDom=document.querySelector("#mailContent"),this.windowHeight=document.documentElement.clientHeight,this.footer(),window.addEventListener("scroll",t=>{const d=$(document).scrollTop(),e=this.mailContentDom.offsetHeight;this.showFixedTag=d>=this.sideHot.offsetHeight+80,this.windowHeight+d>e-50&&!this.isLoadingData&&this.hasMore&&this.loadMore()})})},beforeRouteEnter(t,d,e){e(d=>{(t.query.tag||t.query.keyword)&&d.loadMore(t.query)})},beforeRouteUpdate(t,d,e){this.page=0,this.hasMore=!0,t.query.tag||t.query.keyword?this.loadMore(t.query):this.loadMore({isNew:!0}),e()}};var _=Object(c.a)(x,function(){var t=this,d=t.$createElement,e=t._self._c||d;return e("div",{staticClass:"articleBox"},[t._ssrNode('<main class="box main" data-v-a7dcd3d6>',"</main>",[t._ssrNode('<section class="article" data-v-a7dcd3d6>'+t._ssrList(t.article,function(d,e){return'<div class="item" data-v-a7dcd3d6><a href="javascript:void(0)" class="article-title" data-v-a7dcd3d6><h2 data-v-a7dcd3d6>'+t._ssrEscape(t._s(d.title))+'</h2></a> <p class="article-desc" data-v-a7dcd3d6>'+t._ssrEscape(t._s(d.desc))+'</p> <div class="article-info" data-v-a7dcd3d6><span class="time" data-v-a7dcd3d6>'+t._ssrEscape(t._s(d.update_time||d.create_time))+'</span> <i class="iconfont" data-v-a7dcd3d6></i> <span class="time" data-v-a7dcd3d6><strong data-v-a7dcd3d6>'+t._ssrEscape(t._s(d.viewCount))+'</strong>次阅读</span> <i class="iconfont" data-v-a7dcd3d6></i> <span class="time" data-v-a7dcd3d6><strong data-v-a7dcd3d6>'+t._ssrEscape(t._s(d.likeCount))+"</strong>人喜欢</span></div></div>"})+" "+(t.hasMore?'<div class="loadmore" data-v-a7dcd3d6>'+(t.isLoadingData?"<span data-v-a7dcd3d6>数据加载中...</span>":"\x3c!----\x3e")+"</div>":'<div class="loadmore" data-v-a7dcd3d6>没有更多数据了</div>')+"</section> "),t._ssrNode('<section class="side" data-v-a7dcd3d6>',"</section>",[t._ssrNode('<div id="sideHot" class="hot" data-v-a7dcd3d6><div class="hot-title" data-v-a7dcd3d6>热门文章</div> <div class="hot-article" data-v-a7dcd3d6>'+t._ssrList(t.hotArticle,function(d,e){return'<h3 data-v-a7dcd3d6><a href="javascript:void(0)" data-v-a7dcd3d6>'+t._ssrEscape(t._s(d.title))+"</a></h3>"})+"</div></div> "),t._ssrNode("<div"+t._ssrClass(null,t.showFixedTag?"fixedTag":"")+" data-v-a7dcd3d6>","</div>",[t._ssrNode('<div id="tags" class="tags" data-v-a7dcd3d6>',"</div>",[t._ssrNode('<div class="hot-title" data-v-a7dcd3d6>标签</div> '),t._ssrNode('<div class="tag-list" data-v-a7dcd3d6>',"</div>",t._l(t.tags.result.list,function(d,o){return e("nuxt-link",{key:o,attrs:{to:"/article?tag="+d.id}},[t._v(t._s(d.name)),e("span",[t._v("("+t._s(d.meta.count)+")")])])}),1)],2),t._ssrNode(" "),t._ssrNode('<div class="smallNav" data-v-a7dcd3d6>',"</div>",[t._ssrNode('<div class="flag" data-v-a7dcd3d6></div> '),t._ssrNode("<div data-v-a7dcd3d6>","</div>",[e("nuxt-link",{attrs:{to:"/about"}},[t._v("我")]),t._ssrNode(" <i data-v-a7dcd3d6>•</i> "),e("nuxt-link",{attrs:{to:"/hero"}},[t._v("留言墙")]),t._ssrNode(" <i data-v-a7dcd3d6>•</i> "),e("nuxt-link",{attrs:{to:"/allarticle"}},[t._v("归档")])],2)],2)],2)],2)],2),t._ssrNode(" "),e("to-top")],2)},[],!1,function(t){var d=e(63);d.__inject__&&d.__inject__(t)},"a7dcd3d6","3b27d0f6");d.default=_.exports}};
//# sourceMappingURL=989270071cb038618b11.js.map